{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getElementPosition = exports.stopEvent = exports.absPos = exports.valueToAngle = exports.calcAngleDiff = exports.calculateNearestValueToPoint = exports.clamp = exports.matrixScale = exports.degrees = exports.radians = exports.polarToCartesian = exports.ANGLE_OFFSET = exports.DEG_360_IN_RAD = void 0;\nexports.DEG_360_IN_RAD = radians(360);\nexports.ANGLE_OFFSET = Math.PI;\n\nfunction polarToCartesian(_a) {\n  var center = _a.center,\n      angle = _a.angle,\n      radius = _a.radius;\n  return {\n    x: center.x + Math.sin(angle) * radius,\n    y: center.y + Math.cos(angle) * radius\n  };\n}\n\nexports.polarToCartesian = polarToCartesian;\n\nfunction radians(deg) {\n  return deg * Math.PI / 180;\n}\n\nexports.radians = radians;\n\nfunction degrees(rad) {\n  return rad * 180 / Math.PI;\n}\n\nexports.degrees = degrees;\n\nfunction matrixScale(scale, x, y) {\n  return \"matrix(\" + scale + \", 0, 0, \" + scale + \", \" + (x - scale * x) + \", \" + (y - scale * y) + \")\";\n}\n\nexports.matrixScale = matrixScale;\n\nfunction clamp(min, max, value) {\n  return Math.min(Math.max(value, min), max);\n}\n\nexports.clamp = clamp;\n\nfunction calculateNearestValueToPoint(_a) {\n  var _b = _a.center,\n      centerX = _b.x,\n      centerY = _b.y,\n      _c = _a.container,\n      containerX = _c.x,\n      containerY = _c.y,\n      _d = _a.point,\n      pointX = _d.x,\n      pointY = _d.y,\n      radius = _a.radius,\n      value = _a.value;\n  var radialPosition = {\n    x: pointX - containerX - centerX,\n    y: -(pointY - containerY - centerY)\n  };\n  var valuePosition = polarToCartesian({\n    center: {\n      x: 0,\n      y: 0\n    },\n    angle: valueToAngle(value),\n    radius: radius\n  });\n  var deltaTheta = calcAngleDiff(radialPosition.x, radialPosition.y, valuePosition.x, -valuePosition.y);\n  var deltaValue = value + deltaTheta / 360;\n  var nearestValue = deltaValue > 1 ? deltaValue - 1 : deltaValue;\n  return nearestValue;\n}\n\nexports.calculateNearestValueToPoint = calculateNearestValueToPoint;\n\nfunction calcAngleDiff(x1, y1, x2, y2) {\n  var arcTangent = Math.atan2(x1 * y2 - y1 * x2, x1 * x2 + y1 * y2);\n\n  if (arcTangent < 0) {\n    arcTangent += 2 * Math.PI;\n  }\n\n  return arcTangent * 180 / Math.PI;\n}\n\nexports.calcAngleDiff = calcAngleDiff;\n\nfunction valueToAngle(value) {\n  return -value * exports.DEG_360_IN_RAD + exports.ANGLE_OFFSET;\n}\n\nexports.valueToAngle = valueToAngle;\n\nfunction absPos(e) {\n  var touchEvent = e.touches && e;\n\n  if (touchEvent) {\n    return {\n      x: touchEvent.changedTouches[0].pageX - (window.scrollX || window.pageXOffset),\n      y: touchEvent.changedTouches[0].pageY - (window.scrollY || window.pageYOffset)\n    };\n  }\n\n  var mouseEvent = e.pageX && e;\n\n  if (mouseEvent) {\n    return {\n      x: mouseEvent.pageX - (window.scrollX || window.pageXOffset),\n      y: mouseEvent.pageY - (window.scrollY || window.pageYOffset)\n    };\n  }\n\n  throw new Error('Unknown event type received (expected: MouseEvent | TouchEvent)');\n}\n\nexports.absPos = absPos;\n\nfunction stopEvent(e) {\n  e.stopPropagation();\n  e.preventDefault();\n}\n\nexports.stopEvent = stopEvent;\n\nfunction getElementPosition(el) {\n  if (!el) return;\n\n  var _a = el.getBoundingClientRect(),\n      x = _a.left,\n      y = _a.top;\n\n  return {\n    x: x,\n    y: y\n  };\n}\n\nexports.getElementPosition = getElementPosition;","map":{"version":3,"mappings":";;;;;;AAEaA,yBAAiBC,OAAO,CAAC,GAAD,CAAxB;AACAD,uBAAeE,IAAI,CAACC,EAApB;;AAOb,SAAgBC,gBAAhB,CAAiCC,EAAjC,EAQC;MAPAC,MAAM;MACNC,KAAK;MACLC,MAAM;EAMN,OAAO;IACNC,CAAC,EAAEH,MAAM,CAACG,CAAP,GAAWP,IAAI,CAACQ,GAAL,CAASH,KAAT,IAAkBC,MAD1B;IAENG,CAAC,EAAEL,MAAM,CAACK,CAAP,GAAWT,IAAI,CAACU,GAAL,CAASL,KAAT,IAAkBC;EAF1B,CAAP;AAIA;;AAbDR;;AAeA,SAAgBC,OAAhB,CAAwBY,GAAxB,EAAmC;EAClC,OAAQA,GAAG,GAAGX,IAAI,CAACC,EAAZ,GAAkB,GAAzB;AACA;;AAFDH;;AAIA,SAAgBc,OAAhB,CAAwBC,GAAxB,EAAmC;EAClC,OAAQA,GAAG,GAAG,GAAP,GAAcb,IAAI,CAACC,EAA1B;AACA;;AAFDH;;AAIA,SAAgBgB,WAAhB,CAA4BC,KAA5B,EAA2CR,CAA3C,EAAsDE,CAAtD,EAA+D;EAC9D,OAAO,YAAUM,KAAV,GAAe,UAAf,GAA0BA,KAA1B,GAA+B,IAA/B,IAAoCR,CAAC,GAAGQ,KAAK,GAAGR,CAAhD,IAAiD,IAAjD,IACNE,CAAC,GAAGM,KAAK,GAAGN,CADN,IACO,GADd;AAGA;;AAJDX;;AAMA,SAAgBkB,KAAhB,CAAsBC,GAAtB,EAAmCC,GAAnC,EAAgDC,KAAhD,EAA6D;EAC5D,OAAOnB,IAAI,CAACiB,GAAL,CAASjB,IAAI,CAACkB,GAAL,CAASC,KAAT,EAAgBF,GAAhB,CAAT,EAA+BC,GAA/B,CAAP;AACA;;AAFDpB;;AAIA,SAAgBsB,4BAAhB,CAA6CjB,EAA7C,EAYC;MAXAkB;MAAaC,OAAO;MAAKC,OAAO;MAChCC;MAAgBC,UAAU;MAAKC,UAAU;MACzCC;MAAYC,MAAM;MAAKC,MAAM;MAC7BvB,MAAM;MACNa,KAAK;EAQL,IAAMW,cAAc,GAAG;IACtBvB,CAAC,EAAEqB,MAAM,GAAGH,UAAT,GAAsBH,OADH;IAEtBb,CAAC,EAAE,EAAEoB,MAAM,GAAGH,UAAT,GAAsBH,OAAxB;EAFmB,CAAvB;EAIA,IAAMQ,aAAa,GAAG7B,gBAAgB,CAAC;IACtCE,MAAM,EAAE;MAAEG,CAAC,EAAE,CAAL;MAAQE,CAAC,EAAE;IAAX,CAD8B;IAEtCJ,KAAK,EAAE2B,YAAY,CAACb,KAAD,CAFmB;IAGtCb,MAAM;EAHgC,CAAD,CAAtC;EAKA,IAAM2B,UAAU,GAAGC,aAAa,CAC/BJ,cAAc,CAACvB,CADgB,EAE/BuB,cAAc,CAACrB,CAFgB,EAG/BsB,aAAa,CAACxB,CAHiB,EAI/B,CAACwB,aAAa,CAACtB,CAJgB,CAAhC;EAMA,IAAM0B,UAAU,GAAGhB,KAAK,GAAGc,UAAU,GAAG,GAAxC;EACA,IAAMG,YAAY,GAAGD,UAAU,GAAG,CAAb,GAAiBA,UAAU,GAAG,CAA9B,GAAkCA,UAAvD;EACA,OAAOC,YAAP;AACA;;AA/BDtC;;AAiCA,SAAgBoC,aAAhB,CAA8BG,EAA9B,EAA0CC,EAA1C,EAAsDC,EAAtD,EAAkEC,EAAlE,EAA4E;EAC3E,IAAIC,UAAU,GAAGzC,IAAI,CAAC0C,KAAL,CAAWL,EAAE,GAAGG,EAAL,GAAUF,EAAE,GAAGC,EAA1B,EAA8BF,EAAE,GAAGE,EAAL,GAAUD,EAAE,GAAGE,EAA7C,CAAjB;;EACA,IAAIC,UAAU,GAAG,CAAjB,EAAoB;IACnBA,UAAU,IAAI,IAAIzC,IAAI,CAACC,EAAvB;EACA;;EACD,OAAQwC,UAAU,GAAG,GAAd,GAAqBzC,IAAI,CAACC,EAAjC;AACA;;AANDH;;AAQA,SAAgBkC,YAAhB,CAA6Bb,KAA7B,EAA0C;EACzC,OAAO,CAACA,KAAD,GAASrB,sBAAT,GAA0BA,oBAAjC;AACA;;AAFDA;;AAIA,SAAgB6C,MAAhB,CAAuBC,CAAvB,EAAiD;EAChD,IAAMC,UAAU,GAAID,CAAgB,CAACE,OAAjB,IAA6BF,CAAjD;;EACA,IAAIC,UAAJ,EAAgB;IACf,OAAO;MACNtC,CAAC,EACAsC,UAAU,CAACE,cAAX,CAA0B,CAA1B,EAA6BC,KAA7B,IACCC,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACE,WAD1B,CAFK;MAIN1C,CAAC,EACAoC,UAAU,CAACE,cAAX,CAA0B,CAA1B,EAA6BK,KAA7B,IACCH,MAAM,CAACI,OAAP,IAAkBJ,MAAM,CAACK,WAD1B;IALK,CAAP;EAQA;;EACD,IAAMC,UAAU,GAAIX,CAAgB,CAACI,KAAjB,IAA2BJ,CAA/C;;EACA,IAAIW,UAAJ,EAAgB;IACf,OAAO;MACNhD,CAAC,EAAEgD,UAAU,CAACP,KAAX,IAAoBC,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACE,WAA7C,CADG;MAEN1C,CAAC,EAAE8C,UAAU,CAACH,KAAX,IAAoBH,MAAM,CAACI,OAAP,IAAkBJ,MAAM,CAACK,WAA7C;IAFG,CAAP;EAIA;;EACD,MAAM,IAAIE,KAAJ,CACL,iEADK,CAAN;AAGA;;AAtBD1D;;AAwBA,SAAgB2D,SAAhB,CAA0Bb,CAA1B,EAA4D;EAC3DA,CAAC,CAACc,eAAF;EACAd,CAAC,CAACe,cAAF;AACA;;AAHD7D;;AAKA,SAAgB8D,kBAAhB,CAAmCC,EAAnC,EAAsD;EACrD,IAAI,CAACA,EAAL,EAAS;;EACH,SAAsBA,EAAE,CAACC,qBAAH,EAAtB;EAAA,IAAQvD,CAAC,UAAT;EAAA,IAAgBE,CAAC,SAAjB;;EACN,OAAO;IAAEF,CAAC,GAAH;IAAKE,CAAC;EAAN,CAAP;AACA;;AAJDX","names":["exports","radians","Math","PI","polarToCartesian","_a","center","angle","radius","x","sin","y","cos","deg","degrees","rad","matrixScale","scale","clamp","min","max","value","calculateNearestValueToPoint","_b","centerX","centerY","_c","containerX","containerY","_d","pointX","pointY","radialPosition","valuePosition","valueToAngle","deltaTheta","calcAngleDiff","deltaValue","nearestValue","x1","y1","x2","y2","arcTangent","atan2","absPos","e","touchEvent","touches","changedTouches","pageX","window","scrollX","pageXOffset","pageY","scrollY","pageYOffset","mouseEvent","Error","stopEvent","stopPropagation","preventDefault","getElementPosition","el","getBoundingClientRect"],"sourceRoot":"","sources":["../src/utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}